<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIRA URL Wizard - Privacy Policy</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/khalilcharfi/JIRA-URL-Wizard/master/assets/icon.png">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/khalilcharfi/JIRA-URL-Wizard/master/assets/icon.png">
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/khalilcharfi/JIRA-URL-Wizard/master/assets/icon.png">
    <style>
        :root {
            /* Color palette */
            --primary-color: #0052CC;
            --primary-light: #E9F2FF;
            --secondary-color: #42526E;
            --accent-color: #FF5630;
            --text-color: #172B4D;
            --text-light: #5E6C84;
            --border-color: #DFE1E6;
            --bg-light: #F4F5F7;
            --white: #FFFFFF;
            --success: #36B37E;
            --warning: #FFAB00;
            --heart-color: #ff5e5e;
            
            /* Link colors */
            --link-color: #0052CC;
            --link-hover: #0747A6;
            --link-active: #FF5630;
            --link-visited: #6554C0;
            --link-focus-ring: rgba(0, 82, 204, 0.4);
            
            /* Special links */
            --footer-link-color: rgba(255, 255, 255, 0.9);
            --footer-link-hover: #FFFFFF;
            --toc-link-color: var(--secondary-color);
            --toc-link-hover: var(--primary-color);
            
            /* Layout */
            --border-radius: 8px;
            --border-radius-sm: 4px;
            --box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            --hover-shadow: 0 4px 8px rgba(0,0,0,0.15);
            --transition-speed: 0.3s;
            --container-width: 900px;
            --section-spacing: 25px;
            --item-spacing: 15px;
            
            /* Typography */
            --font-size-xs: 0.75rem;  /* 12px */
            --font-size-sm: 0.875rem; /* 14px */
            --font-size-base: 1rem;   /* 16px */
            --font-size-md: 1.125rem; /* 18px */
            --font-size-lg: 1.25rem;  /* 20px */
            --font-size-xl: 1.5rem;   /* 24px */
            --font-size-2xl: 1.75rem; /* 28px */
            --font-size-3xl: 2rem;    /* 32px */
            --line-height: 1.6;
            --heading-line-height: 1.3;
            
            /* Fluid typography */
            --fluid-typography: var(--font-size-base);
            --header-fluid: clamp(1.5rem, 3vw, 2rem);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 100%; /* Makes 1rem = 16px by default */
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: var(--line-height);
            color: var(--text-color);
            background-color: #FAFBFC;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: var(--font-size-base);
        }

        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 20px;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--primary-color);
            line-height: var(--heading-line-height);
            margin-bottom: var(--item-spacing);
        }

        h1 {
            font-size: var(--header-fluid);
            font-weight: 600;
            margin: 0;
        }

        h2 {
            font-size: var(--font-size-xl);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            color: var(--secondary-color);
            font-size: var(--font-size-lg);
            margin: 25px 0 15px;
        }

        h4 {
            font-size: var(--font-size-md);
            margin-bottom: 8px;
        }

        p, ul, ol {
            margin-bottom: var(--item-spacing);
            color: var(--text-color);
            font-size: var(--fluid-typography);
        }

        ul, ol {
            padding-left: 25px;
        }

        li {
            margin-bottom: 10px;
            position: relative;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
            transition: all var(--transition-speed);
            border-bottom: 1px solid transparent;
            font-weight: 500;
            padding: 0 2px;
            border-radius: 2px;
        }

        a:hover {
            color: var(--link-hover);
            border-bottom-color: var(--link-hover);
        }
        
        a:active {
            color: var(--link-active);
            border-bottom-color: var(--link-active);
        }
        
        a:visited {
            color: var(--link-visited);
        }
        
        a:focus {
            outline: none;
            box-shadow: 0 0 0 3px var(--link-focus-ring);
        }
        
        a:focus:not(:focus-visible) {
            box-shadow: none;
        }
        
        a[target="_blank"] {
            padding-right: 1.2em;
            position: relative;
        }
        
        a[target="_blank"]::after {
            content: "";
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0.9em;
            height: 0.9em;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%230052CC' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.7;
        }
        
        a[target="_blank"]:hover::after {
            opacity: 1;
        }

        /* Layout components */
        header {
            text-align: center;
            padding: 40px 0;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            transition: transform var(--transition-speed);
        }

        header:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .header-content img {
            width: 64px;
            height: 64px;
            transition: transform var(--transition-speed);
        }

        .header-content img:hover {
            transform: scale(1.1);
        }

        .last-updated {
            color: var(--text-light);
            font-style: italic;
            margin-top: 10px;
            font-size: var(--font-size-sm);
        }

        /* Common card styling */
        .card {
            background-color: var(--white);
            padding: 30px; /* Increased padding for better spacing */
            border-radius: var(--border-radius);
            margin-bottom: var(--section-spacing, 30px); /* Use variable with fallback */
            box-shadow: var(--box-shadow);
            transition: all var(--transition-speed);
            border: 1px solid var(--border-color); /* Subtle border */
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
            border-color: var(--primary-light);
        }

        /* Content boxes */
        .intro-box {
            /* Keep specific styles */
            border-left: 4px solid var(--success);
            /* Remove composes: card; */
        }

        /* Remove specific .toc styles if they are now handled by .card */
        /* Keep TOC-specific content styles */
        #toc h2 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: var(--font-size-lg);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        #toc ul {
            list-style-type: none;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            padding-left: 0; /* Remove default padding */
        }

        #toc li {
            margin-bottom: 0;
        }

        #toc a {
            color: var(--secondary-color);
            display: flex;
            align-items: center;
            transition: all var(--transition-speed);
            padding: 12px;
            border-radius: var(--border-radius-sm);
            background-color: var(--bg-light);
            border-bottom: none;
            font-weight: normal;
        }

        #toc a:hover {
            color: var(--primary-color);
            background-color: var(--primary-light);
            transform: translateX(5px);
            border-bottom: none;
        }

        .toc-icon {
            margin-right: 10px;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        section {
            /* Remove any styles here that are now handled by .card */
            /* Keep only section-specific styles if absolutely necessary */
        }

        /* Content elements */
        .data-type {
            background-color: var(--primary-light);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--primary-color);
            transition: transform var(--transition-speed);
        }

        .data-type:hover {
            transform: translateX(5px);
        }

        .feature-box {
            background-color: var(--bg-light);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            display: flex;
            gap: 20px;
            align-items: flex-start;
            transition: transform var(--transition-speed);
        }

        .feature-box:hover {
            transform: translateX(5px);
        }

        .feature-icon {
            background-color: var(--primary-light);
            padding: 12px;
            border-radius: 50%;
            color: var(--primary-color);
            flex-shrink: 0;
            transition: transform var(--transition-speed);
        }

        .feature-box:hover .feature-icon {
            transform: rotate(15deg);
        }

        .feature-text h4 {
            color: var(--secondary-color);
            font-size: var(--font-size-md);
            margin: 0 0 8px;
        }

        .permission {
            background-color: var(--bg-light);
            padding: 25px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            transition: transform var(--transition-speed);
        }

        .permission:hover {
            transform: translateX(5px);
        }

        .permission h4 {
            color: var(--secondary-color);
            font-size: var(--font-size-md);
            margin: 0 0 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .purpose {
            background-color: var(--primary-light);
            padding: 10px 15px;
            border-radius: var(--border-radius-sm);
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 500;
            transition: transform var(--transition-speed);
        }

        .purpose:hover {
            transform: translateY(-2px);
        }

        .important-note {
            background-color: #FFEBE6;
            border-left: 4px solid var(--accent-color);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            transition: transform var(--transition-speed);
        }

        .important-note:hover {
            transform: translateX(5px);
        }

        .privacy-highlight {
            background-color: #E3FCEF;
            border-left: 4px solid var(--success);
            padding: 15px 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            transition: transform var(--transition-speed);
        }

        .privacy-highlight:hover {
            transform: translateX(5px);
        }

        .back-to-top {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background-color: var(--bg-light);
            color: var(--secondary-color);
            padding: 8px 15px;
            border-radius: var(--border-radius);
            font-size: var(--font-size-sm);
            margin-top: 20px;
            transition: all var(--transition-speed);
        }

        .back-to-top:hover {
            background-color: var(--primary-light);
            color: var(--primary-color);
            transform: translateY(-2px);
        }

        /* Browser Download Buttons */
        .download-section {
            max-width: var(--container-width);
            margin: 30px auto;
            background-color: var(--white);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: transform var(--transition-speed);
        }

        .browser-buttons:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .browser-buttons h3 {
            color: var(--primary-color);
            font-size: var(--font-size-lg);
            margin-bottom: 15px; /* Reduced margin */
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px; /* Reduced gap */
            flex-wrap: wrap;
        }

        .browser-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 25px;
            border-radius: 50px;
            text-decoration: none;
            color: white;
            font-weight: 500;
            transition: all var(--transition-speed);
            min-width: 160px;
            box-shadow: var(--box-shadow);
            position: relative;
        }

        .browser-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }

        .browser-btn:active {
            transform: translateY(0);
        }

        .browser-btn img {
            transition: transform var(--transition-speed);
            background-color: white;
            padding: 4px;
            border-radius: 50%;
            width: 32px; /* Increased size */
            height: 32px; /* Increased size */
            object-fit: contain;
        }

        .browser-btn:hover img {
            transform: scale(1.1);
        }

        .version-info {
            display: block;
            font-size: var(--font-size-sm); /* Increased size */
            color: white; /* Changed to white */
            opacity: 0.85; /* Slight opacity for contrast */
            margin-top: 2px;
        }

        .chrome-btn {
            background-color: #4285F4;
        }

        .firefox-btn {
            background-color: #FF7139;
        }

        .edge-btn {
            background-color: #0078D7;
        }

        .safari-btn {
            background-color: #1B88CA;
        }

        .browser-btn.disabled {
            background-color: var(--secondary-color);
            opacity: 0.7;
            cursor: not-allowed;
            pointer-events: none;
        }

        .browser-btn.disabled:hover {
            transform: none;
            box-shadow: none;
        }

        .browser-btn.disabled:hover img {
            transform: none;
        }

        .settings-option {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }

        .storage-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px 30px;
            border-radius: var(--border-radius);
            background-color: var(--secondary-color);
            color: white;
            font-weight: 500;
            border: none;
            cursor: pointer;
            margin: 0 auto;
            transition: all var(--transition-speed);
            box-shadow: var(--box-shadow);
        }

        .storage-btn:hover {
            background-color: #344563;
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
        }

        .storage-btn:active {
            transform: translateY(0);
        }

        .storage-btn svg {
            transition: transform var(--transition-speed);
        }

        .storage-btn:hover svg {
            transform: rotate(180deg);
        }

        .settings-info {
            font-size: var(--font-size-xs);
            color: var(--text-light);
            margin-top: 10px;
            text-align: center;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            overflow: auto;
            animation: modalFadeIn 0.3s ease-in-out;
        }

        .modal-content {
            background-color: var(--white);
            margin: 2% auto;
            padding: 0;
            width: 95%;
            max-width: 1000px;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            animation: modalSlideIn 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .modal-header {
            padding: 20px 24px;
            background-color: var(--primary-color);
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header h3 {
            margin: 0;
            font-size: var(--font-size-lg);
            font-weight: 600;
            color: var(--white);
        }

        .close-modal {
            color: var(--white);
            font-size: 20px;
            font-weight: 300;
            cursor: pointer;
            transition: all var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.2);
            user-select: none;
        }

        .close-modal:hover {
            transform: rotate(90deg) scale(1.1);
            background-color: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }

        .close-modal:active {
            transform: rotate(90deg) scale(0.95);
            background-color: rgba(255, 255, 255, 0.15);
        }

        .close-modal:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
        }

        .close-modal::before,
        .close-modal::after {
            content: '';
            position: absolute;
            width: 2px;
            height: 16px;
            background-color: currentColor;
            border-radius: 2px;
        }

        .close-modal::before {
            transform: rotate(45deg);
        }

        .close-modal::after {
            transform: rotate(-45deg);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-body p {
            font-size: var(--font-size-base);
            color: var(--text-color);
            margin-bottom: 24px;
            line-height: 1.6;
            text-align: center;
        }

        .browser-instructions {
            display: flex;
            flex-wrap: nowrap;
            gap: 16px;
            justify-content: center;
            align-items: stretch;
        }

        .instruction-item {
            background-color: var(--bg-light);
            padding: 20px;
            border-radius: var(--border-radius);
            transition: all 0.3s ease;
            border: 1px solid var(--border-color);
            flex: 1;
            min-width: 220px;
            max-width: 280px;
            display: flex;
            flex-direction: column;
        }

        .instruction-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-color: var(--primary-light);
        }

        .instruction-item h4 {
            color: var(--primary-color);
            margin: 0 0 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: var(--font-size-md);
            font-weight: 600;
        }

        .browser-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-light);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            font-weight: 600;
            color: var(--primary-color);
            font-size: var(--font-size-sm);
        }

        .instruction-item ol {
            padding-left: 20px;
            margin: 0;
            flex: 1;
        }

        .instruction-item li {
            margin-bottom: 12px;
            color: var(--text-color);
            line-height: 1.5;
            position: relative;
            font-size: var(--font-size-sm);
        }

        .instruction-item li:last-child {
            margin-bottom: 0;
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-25px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .modal-content {
                margin: 4% auto;
                width: 95%;
            }
            
            .browser-instructions {
                flex-wrap: wrap;
            }
            
            .instruction-item {
                min-width: 100%;
                max-width: none;
            }
            
            .modal-body {
                padding: 20px;
            }
            
            .modal-header {
                padding: 16px 20px;
            }
        }

        /* Add this new CSS class */
        body.modal-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
        }

        /* Language switcher styles */
        .language-switcher {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 15px;
        }

        .language-btn {
            padding: 8px 20px;
            background-color: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 500;
            transition: all var(--transition-speed);
            box-shadow: var(--box-shadow);
        }

        .language-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .language-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* Collapsible sections */
        .collapsible-section {
            margin-bottom: 20px;
            transition: transform var(--transition-speed);
        }

        .collapsible-section:hover {
            transform: translateX(5px);
        }

        .collapsible-header {
            background-color: var(--bg-light);
            padding: 15px;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
            transition: all var(--transition-speed);
        }

        .collapsible-header:hover {
            background-color: var(--primary-light);
        }

        .collapsible-header.active {
            background-color: var(--primary-light);
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }

        .collapsible-content {
            padding: 20px;
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            display: none;
            background-color: var(--white);
            animation: fadeIn var(--transition-speed) ease-in-out;
        }

        @keyframes fadeIn {
            from {opacity: 0; transform: translateY(-10px);}
            to {opacity: 1; transform: translateY(0);}
        }

        .collapsible-header.active + .collapsible-content {
            display: block;
        }

        /* Responsive design with improved font sizes */
        @media (max-width: 1200px) {
            :root {
                --fluid-typography: var(--font-size-base);
            }

            h1 {
                font-size: clamp(1.5rem, 3vw, 1.75rem);
            }

            h2 {
                font-size: var(--font-size-lg);
            }

            h3 {
                font-size: var(--font-size-md);
            }
        }

        @media (max-width: 768px) {
            :root {
                --fluid-typography: var(--font-size-sm);
            }

            .container {
                padding: 15px;
            }

            section {
                padding: 20px;
            }

            h1 {
                font-size: clamp(1.25rem, 4vw, 1.5rem);
            }

            h2 {
                font-size: var(--font-size-md);
            }

            h3 {
                font-size: var(--font-size-base);
            }

            .header-content {
                flex-direction: column;
            }

            .toc ul {
                grid-template-columns: 1fr;
            }

            .feature-box {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .browser-instructions {
                grid-template-columns: 1fr;
            }

            .modal-content {
                margin: 15% auto;
                width: 95%;
            }

            .button-container {
                flex-direction: column;
                align-items: center;
            }

            .browser-btn {
                width: 100%;
                max-width: 300px;
            }
        }

        @media (max-width: 480px) {
            :root {
                --fluid-typography: var(--font-size-xs);
            }

            .container {
                padding: 10px;
            }

            section {
                padding: 15px;
            }

            h1 {
                font-size: clamp(1.125rem, 3vw, 1.25rem);
            }

            .header-content img {
                width: 48px;
                height: 48px;
            }

            .toc h2, h2 {
                font-size: var(--font-size-base);
            }

            h3 {
                font-size: var(--font-size-sm);
            }

            .feature-text h4, .permission h4, .instruction-item h4 {
                font-size: var(--font-size-sm);
            }

            .browser-btn {
                padding: 12px 20px;
                font-size: var(--font-size-sm);
            }
        }

        /* Loading state */
        .loading {
            position: relative;
            overflow: hidden;
        }

        .loading::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {transform: translateX(-100%);}
            100% {transform: translateX(100%);}
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-light);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }

        .browser-info span:first-child {
            font-weight: 500;
            font-size: var(--font-size-base); /* Increased size */
            color: white; /* Changed to white */
        }

        /* === START NEW BUTTON STYLES === */
        .download-section {
            max-width: 900px;
            margin: 30px auto;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 32px;
            transition: transform var(--transition-speed);
        }

        .download-section:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .section-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 24px;
            text-align: center;
        }

        .browser-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 32px;
        }

        .browser-btn {
            display: flex;
            align-items: center;
            background-color: var(--white);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 16px;
            text-decoration: none;
            color: var(--text-color);
            transition: all var(--transition-speed);
            box-shadow: var(--box-shadow);
            border-left: 4px solid transparent;
            width: 100%;
        }

        .browser-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--hover-shadow);
            border-color: var(--border-color);
        }

        .browser-logo {
            width: 28px;
            height: 28px;
            margin-right: 14px;
            flex-shrink: 0;
            transition: transform var(--transition-speed);
            background-color: var(--white);
            padding: 4px;
            border-radius: 50%;
        }

        .browser-btn:hover .browser-logo {
            transform: scale(1.1);
        }

        .browser-info {
            flex: 1;
        }

        .browser-name {
            font-weight: 600;
            font-size: var(--font-size-base);
            margin-bottom: 4px;
            color: var(--primary-color);
        }

        .version-info {
            font-size: var(--font-size-sm);
            color: var(--text-light);
            opacity: 0.9;
        }

        /* Browser-specific hover effects */
        .chrome-btn:hover {
            border-left-color: #4285F4;
        }

        .firefox-btn:hover {
            border-left-color: #FF7139;
        }

        .edge-btn:hover {
            border-left-color: #0078D7;
        }

        .safari-btn:hover {
            border-left-color: #1B88CA;
        }

        .browser-btn.disabled {
            background-color: var(--bg-light);
            color: var(--text-light);
            cursor: not-allowed;
            opacity: 0.7;
            box-shadow: none;
            border-left-color: var(--border-color);
        }

        .browser-btn.disabled:hover {
            transform: none;
            box-shadow: none;
            border-color: var(--border-color);
            border-left-color: var(--border-color);
        }

        .settings-section {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: 24px;
            border: 1px solid var(--border-color);
            margin-top: 32px;
            transition: all var(--transition-speed);
        }

        .settings-section:hover {
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .settings-button {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--primary-color);
            border: 1px solid var(--primary-color);
            border-radius: var(--border-radius);
            padding: 16px 24px;
            font-size: var(--font-size-base);
            font-weight: 500;
            color: var(--white);
            cursor: pointer;
            transition: all var(--transition-speed);
            width: 100%;
            gap: 12px;
        }

        .settings-button:hover {
            background-color: var(--secondary-color);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: var(--hover-shadow);
        }

        .settings-button:hover svg {
            transform: rotate(180deg);
            stroke: var(--white);
        }

        .settings-button svg {
            width: 20px;
            height: 20px;
            transition: transform var(--transition-speed);
            stroke: var(--white);
        }

        .settings-info {
            font-size: var(--font-size-sm);
            color: var(--text-light);
            margin-top: 16px;
            text-align: center;
            line-height: 1.5;
        }
        /* === END NEW BUTTON STYLES === */

        /* Footer styling */
        footer {
            background-color: var(--primary-color);
            color: var(--footer-link-color);
            padding: 8px 15px; /* Minimum padding */
            text-align: center;
            margin-top: 25px; /* Reduced top margin */
            box-shadow: 0 -1px 6px rgba(0,0,0,0.1); /* Minimal shadow */
            font-size: var(--font-size-xs);
            line-height: 1.3; /* Reduced line height */
        }

        .footer-content {
            max-width: var(--container-width);
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px; /* Minimum gap */
            flex-wrap: wrap;
        }

        .footer-left {
            display: flex;
            align-items: center;
            gap: 6px; /* Minimum gap */
            flex-wrap: wrap;
            justify-content: center; /* Center on wrap */
        }

        .footer-logo img {
            width: 16px; /* Minimal logo size */
            height: 16px;
            border-radius: 3px; /* Smaller radius */
            transition: transform var(--transition-speed);
            display: block;
            vertical-align: middle;
        }
        
        .footer-logo img:hover {
            transform: scale(1.2);
        }

        .footer-info,
        .made-with,
        .github-link {
            display: flex;
            align-items: center;
            gap: 3px; /* Minimum gap */
        }
        
        .footer-info { margin-right: 4px; } 
        .made-with { margin-right: 4px; }

        .made-with a {
            color: var(--footer-link-color);
            font-weight: 600;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0 1px;
            transition: all var(--transition-speed);
        }
        
        .made-with a:hover {
            color: var(--footer-link-hover);
            border-bottom-color: var(--footer-link-hover);
        }

        .github-link {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 2px 5px; /* Minimal padding */
            border-radius: 3px;
            transition: all var(--transition-speed);
            gap: 4px; 
        }
        
        .github-link:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }
        
        .github-link svg {
            width: 11px; /* Minimal icon size */
            height: 11px;
        }
        
        .github-link span {
            font-weight: 500;
            font-size: 0.9em;
        }
        
        .footer-links {
            display: flex;
            gap: 5px; /* Minimum gap */
            align-items: center;
        }

        .footer-links a {
            color: var(--footer-link-color);
            padding: 2px 5px; /* Minimal padding */
            border-radius: 3px;
            transition: all var(--transition-speed);
            display: flex;
            align-items: center;
            gap: 3px; /* Minimal gap */
            border-bottom: none;
            background-color: rgba(255,255,255,0.05); 
        }

        .footer-links a:hover {
            color: var(--footer-link-hover);
            background-color: rgba(255,255,255,0.15);
            transform: translateY(-1px);
        }
        
        .footer-links a svg {
            width: 11px; /* Minimal icon size */
            height: 11px;
        }

        .heart {
            color: var(--heart-color);
            font-size: 0.85em;
            position: relative;
            top: -1px;
        }

        /* Responsive adjustments for compact footer */
        @media (max-width: 768px) { 
            .footer-content {
                flex-direction: column;
                gap: 6px; /* Minimum gap */
            }
            
            .footer-left {
                justify-content: center;
                gap: 4px; /* Minimum gap */
            }

            .footer-links {
                justify-content: center;
                flex-wrap: wrap;
                gap: 4px; /* Minimum gap */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <img src="https://raw.githubusercontent.com/khalilcharfi/JIRA-URL-Wizard/master/assets/icon.png" alt="JIRA URL Wizard Icon">
                <h1 data-i18n="title"></h1>
            </div>
            <p class="last-updated" data-i18n="lastUpdated"></p>
            <div class="language-switcher">
                <button class="language-btn active" data-lang="en">English</button>
                <button class="language-btn" data-lang="de">Deutsch</button>
            </div>
        </header>

        <!-- Browser Download Buttons -->
        <div class="download-section">
            <h2 class="section-title" data-i18n="download.title">Download for Your Browser</h2>
            <div class="browser-options" id="browserButtons">
                <!-- Browser buttons will be generated here -->
            </div>
            <div class="settings-section">
                <button class="settings-button">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 3.33334V12.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M3.33334 8H12.6667" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <span data-i18n="download.settingsButton">Extension Settings</span>
                </button>
                <div class="settings-info" data-i18n="download.settingsInfo">
                    Configure your extension settings and preferences
                </div>
            </div>
        </div>

        <div class="card intro-box">
            <p data-i18n="introText"></p>
        </div>

        <section class="card" id="toc">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
                <span data-i18n="quickNav"></span>
            </h2>
            <ul>
                <li>
                    <a href="#introduction">
                        <span class="toc-icon">üìå</span>
                        <span data-i18n="nav.introduction"></span>
                    </a>
                </li>
                <li>
                    <a href="#features">
                        <span class="toc-icon">‚ú®</span>
                        <span data-i18n="nav.features"></span>
                    </a>
                </li>
                <li>
                    <a href="#information">
                        <span class="toc-icon">üîç</span>
                        <span data-i18n="nav.information"></span>
                    </a>
                </li>
                <li>
                    <a href="#permissions">
                        <span class="toc-icon">üîí</span>
                        <span data-i18n="nav.permissions"></span>
                    </a>
                </li>
                <li>
                    <a href="#storage">
                        <span class="toc-icon">üíæ</span>
                        <span data-i18n="nav.storage"></span>
                    </a>
                </li>
                <li>
                    <a href="#rights">
                        <span class="toc-icon">üë§</span>
                        <span data-i18n="nav.rights"></span>
                    </a>
                </li>
                <li>
                    <a href="#retention">
                        <span class="toc-icon">‚è±Ô∏è</span>
                        <span data-i18n="nav.retention"></span>
                    </a>
                </li>
                <li>
                    <a href="#changes">
                        <span class="toc-icon">üìù</span>
                        <span data-i18n="nav.changes"></span>
                    </a>
                </li>
                <li>
                    <a href="#compliance">
                        <span class="toc-icon">‚öñÔ∏è</span>
                        <span data-i18n="nav.compliance"></span>
                    </a>
                </li>
            </ul>
        </section>

        <section id="introduction" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span data-i18n="introduction.title"></span>
            </h2>
            <p data-i18n="introduction.p1"></p>
            <p data-i18n="introduction.p2"></p>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="features" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
                <span data-i18n="features.title"></span>
            </h2>
            <div class="feature-box">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="23 4 23 10 17 10"></polyline>
                        <polyline points="1 20 1 14 7 14"></polyline>
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                    </svg>
                </div>
                <div class="feature-text">
                    <h4 data-i18n="features.switching.title"></h4>
                    <p data-i18n="features.switching.desc"></p>
                </div>
            </div>
            <div class="feature-box">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="4" y1="21" x2="4" y2="14"></line>
                        <line x1="4" y1="10" x2="4" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="12"></line>
                        <line x1="12" y1="8" x2="12" y2="3"></line>
                        <line x1="20" y1="21" x2="20" y2="16"></line>
                        <line x1="20" y1="12" x2="20" y2="3"></line>
                        <line x1="1" y1="14" x2="7" y2="14"></line>
                        <line x1="9" y1="8" x2="15" y2="8"></line>
                        <line x1="17" y1="16" x2="23" y2="16"></line>
                    </svg>
                </div>
                <div class="feature-text">
                    <h4 data-i18n="features.config.title"></h4>
                    <p data-i18n="features.config.desc"></p>
                </div>
            </div>
            <div class="feature-box">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                    </svg>
                </div>
                <div class="feature-text">
                    <h4 data-i18n="features.organization.title"></h4>
                    <p data-i18n="features.organization.desc"></p>
                </div>
            </div>
            <div class="feature-box">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </div>
                <div class="feature-text">
                    <h4 data-i18n="features.detection.title"></h4>
                    <p data-i18n="features.detection.desc"></p>
                </div>
            </div>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="information" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="16" x2="12" y2="12"></line>
                    <line x1="12" y1="8" x2="12.01" y2="8"></line>
                </svg>
                <span data-i18n="information.title"></span>
            </h2>
            <p data-i18n="information.intro"></p>
            <div class="data-type">
                <h3 data-i18n="information.config.title"></h3>
                <ul data-i18n-list="information.config.items"></ul>
            </div>
            <div class="data-type">
                <h3 data-i18n="information.ticket.title"></h3>
                <ul data-i18n-list="information.ticket.items"></ul>
            </div>
            <div class="data-type">
                <h3 data-i18n="information.usage.title"></h3>
                <ul data-i18n-list="information.usage.items"></ul>
            </div>
            <div class="privacy-highlight">
                <strong data-i18n="information.privacy.title"></strong>
                <span data-i18n="information.privacy.desc"></span>
            </div>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="permissions" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <span data-i18n="permissions.title"></span>
            </h2>
            <p data-i18n="permissions.intro"></p>

            <div class="collapsible-section">
                <div class="collapsible-header">
                    <h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                        <span data-i18n="permissions.storage.name"></span>
                    </h4>
                    <span>+</span>
                </div>
                <div class="collapsible-content">
                    <p class="purpose"><strong data-i18n="permissions.purpose"></strong> <span data-i18n="permissions.storage.purpose"></span></p>
                    <p><strong data-i18n="permissions.usage"></strong> <span data-i18n="permissions.storage.usage"></span></p>
                    <ul data-i18n-list="permissions.storage.items"></ul>
                    <p><strong data-i18n="permissions.dataHandling"></strong> <span data-i18n="permissions.storage.dataHandling"></span></p>
                </div>
            </div>

            <div class="collapsible-section">
                <div class="collapsible-header">
                    <h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                        <span data-i18n="permissions.tabs.name"></span>
                    </h4>
                    <span>+</span>
                </div>
                <div class="collapsible-content">
                    <p class="purpose"><strong data-i18n="permissions.purpose"></strong> <span data-i18n="permissions.tabs.purpose"></span></p>
                    <p><strong data-i18n="permissions.usage"></strong> <span data-i18n="permissions.tabs.usage"></span></p>
                    <ul data-i18n-list="permissions.tabs.items"></ul>
                    <p><strong data-i18n="permissions.dataHandling"></strong> <span data-i18n="permissions.tabs.dataHandling"></span></p>
                </div>
            </div>

            <div class="collapsible-section">
                <div class="collapsible-header">
                    <h4>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                        </svg>
                        <span data-i18n="permissions.activeTab.name"></span>
                    </h4>
                    <span>+</span>
                </div>
                <div class="collapsible-content">
                    <p class="purpose"><strong data-i18n="permissions.purpose"></strong> <span data-i18n="permissions.activeTab.purpose"></span></p>
                    <p><strong data-i18n="permissions.usage"></strong> <span data-i18n="permissions.activeTab.usage"></span></p>
                    <ul data-i18n-list="permissions.activeTab.items"></ul>
                    <p><strong data-i18n="permissions.dataHandling"></strong> <span data-i18n="permissions.activeTab.dataHandling"></span></p>
                </div>
            </div>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="storage" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                </svg>
                <span data-i18n="storage.title"></span>
            </h2>
            <p data-i18n="storage.intro"></p>
            <ul data-i18n-list="storage.measures"></ul>
            <div class="privacy-highlight">
                <strong data-i18n="storage.highlight.title"></strong>
                <span data-i18n="storage.highlight.desc"></span>
            </div>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="rights" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <span data-i18n="rights.title"></span>
            </h2>
            <p data-i18n="rights.intro"></p>
            <ul data-i18n-list="rights.controls"></ul>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="retention" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span data-i18n="retention.title"></span>
            </h2>
            <p data-i18n="retention.intro"></p>
            <ul data-i18n-list="retention.conditions"></ul>
            <p data-i18n="retention.conclusion"></p>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="changes" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                </svg>
                <span data-i18n="changes.title"></span>
            </h2>
            <p data-i18n="changes.p1"></p>
            <p data-i18n="changes.p2"></p>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>

        <section id="compliance" class="card">
            <h2>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                <span data-i18n="compliance.title"></span>
            </h2>
            <p data-i18n="compliance.p1"></p>
            <p data-i18n="compliance.p2"></p>
            <a href="#toc" class="back-to-top" data-i18n="backToTop"></a>
        </section>
    </div>
    
    <footer>
        <div class="footer-content">
            <div class="footer-left">
                <div class="footer-logo">
                    <img src="https://raw.githubusercontent.com/khalilcharfi/JIRA-URL-Wizard/master/assets/icon.png" alt="JIRA URL Wizard Logo">
                </div>
                <div class="footer-info">
                    <span data-i18n="footer.copyright"><span id="copyright-year"></span> JIRA URL Wizard</span>
                </div>
                <div class="made-with">
                     Made with <span class="heart">‚ù§Ô∏è</span> by <a href="https://github.com/khalilcharfi" target="_blank">Khalil Charfi</a>
                </div>
            </div>
            
            <div class="footer-links">
                <a href="https://github.com/khalilcharfi/JIRA-URL-Wizard" target="_blank" data-i18n="footer.github">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                    <span>GitHub</span>
                </a>
                <a href="https://github.com/khalilcharfi/JIRA-URL-Wizard/issues" target="_blank">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <span>Support</span>
                </a>
            </div>
        </div>
    </footer>
    
    <!-- Settings Instructions Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 data-i18n="modal.title">Extension Settings</h3>
                <span class="close-modal" title="Close" data-i18n="modal.close"></span>
            </div>
            <div class="modal-body">
                <p data-i18n="modal.intro">To access the extension settings, please use one of the following methods based on your browser:</p>
                
                <div class="browser-instructions">
                    <div class="instruction-item">
                        <h4><span class="browser-icon">C</span><span data-i18n="modal.chrome.title">Chrome</span></h4>
                        <ol data-i18n-list="modal.chrome.steps"></ol>
                    </div>
                    
                    <div class="instruction-item">
                        <h4><span class="browser-icon">F</span><span data-i18n="modal.firefox.title">Firefox</span></h4>
                        <ol data-i18n-list="modal.firefox.steps"></ol>
                    </div>
                    
                    <div class="instruction-item">
                        <h4><span class="browser-icon">E</span><span data-i18n="modal.edge.title">Edge</span></h4>
                        <ol data-i18n-list="modal.edge.steps"></ol>
                    </div>
                    
                    <div class="instruction-item">
                        <h4><span class="browser-icon">D</span><span data-i18n="modal.direct.title">Direct Access</span></h4>
                        <ol data-i18n-list="modal.direct.steps"></ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/locale/de.js"></script>
    <script src="scripts/browser-buttons.js"></script>
    <script>
        // Global variables
        let currentLang = 'en'; // Default language

        // Language translations
        const translations = {
            en: {
                title: "JIRA URL Wizard Privacy Policy",
                lastUpdated: "Last updated: April 10, 2024",
                introText: "<strong>JIRA URL Wizard</strong> is designed to simplify working across multiple JIRA environments. We prioritize your privacy and security - all data is stored locally on your device, and no information is sent to external servers.",
                quickNav: "Quick Navigation",
                backToTop: "‚Üë Back to Top",
                nav: {
                    introduction: "Introduction",
                    features: "Key Features",
                    information: "Information We Collect",
                    permissions: "Permissions Usage",
                    storage: "Data Storage & Security",
                    rights: "Your Rights & Controls",
                    retention: "Data Retention",
                    changes: "Policy Changes",
                    compliance: "Legal Compliance"
                },
                introduction: {
                    title: "Introduction",
                    p1: "JIRA URL Wizard (\"we\", \"our\", or \"us\") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you use our Chrome extension. We take your privacy seriously and are transparent about our data practices.",
                    p2: "Our extension is designed to help developers, testers, and project managers easily navigate between different JIRA environments without manually changing URLs."
                },
                features: {
                    title: "Key Features",
                    switching: {
                        title: "Quick Environment Switching",
                        desc: "Instantly switch between development, staging, and production JIRA environments with a single click."
                    },
                    config: {
                        title: "Custom Environment Configuration",
                        desc: "Create and customize JIRA environment configurations to match your organization's specific setup."
                    },
                    organization: {
                        title: "Ticket Organization",
                        desc: "Save and organize tickets for quick access across all your JIRA instances."
                    },
                    detection: {
                        title: "Automatic Ticket Detection",
                        desc: "Extract ticket information automatically from any JIRA page you're viewing."
                    }
                },
                information: {
                    title: "Information We Collect",
                    intro: "JIRA URL Wizard collects and stores the following information locally on your device:",
                    config: {
                        title: "Configuration Data",
                        items: [
                            "JIRA environment configurations (URLs, names, authentication details)",
                            "Custom environment settings and preferences",
                            "User interface preferences (theme, layout, etc.)"
                        ]
                    },
                    ticket: {
                        title: "Ticket Data",
                        items: [
                            "Saved ticket information (ticket IDs, descriptions)",
                            "Ticket categorization and organization",
                            "Quick access ticket lists"
                        ]
                    },
                    usage: {
                        title: "Usage Data",
                        items: [
                            "Extension settings and preferences",
                            "Last accessed environments",
                            "User-defined shortcuts and hotkeys"
                        ]
                    },
                    privacy: {
                        title: "Your Privacy is Our Priority:",
                        desc: "All data is stored locally in your browser's storage and is not transmitted to any external servers. We have no access to your JIRA credentials or ticket information."
                    }
                },
                permissions: {
                    title: "Permissions Usage",
                    intro: "JIRA URL Wizard requires the following permissions to provide its functionality. Here's why each permission is needed:",
                    purpose: "Purpose:",
                    usage: "Usage:",
                    dataHandling: "Data Handling:",
                    storage: {
                        name: "storage",
                        purpose: "To save your environments and preferences",
                        usage: "This permission allows the extension to:",
                        items: [
                            "Save your JIRA environment configurations for quick switching",
                            "Store your favorite tickets for easy access",
                            "Remember your preferences and settings",
                            "Maintain your quick access lists"
                        ],
                        dataHandling: "All data is stored locally using Chrome's storage API. No data is sent to external servers."
                    },
                    tabs: {
                        name: "tabs",
                        purpose: "To detect JIRA tabs and enable quick switching",
                        usage: "This permission enables the extension to:",
                        items: [
                            "Detect when you're viewing a JIRA ticket",
                            "Extract the current ticket ID for quick environment switching",
                            "Generate the appropriate URLs for different environments",
                            "Switch between development, staging, and production views"
                        ],
                        dataHandling: "The extension only reads the URL and title of tabs that are JIRA-related. No other tab information is accessed or stored."
                    },
                    activeTab: {
                        name: "activeTab",
                        purpose: "To read current tab information when needed",
                        usage: "This permission allows the extension to:",
                        items: [
                            "Read the current tab's URL when you click the extension icon",
                            "Generate environment-specific links based on your current ticket",
                            "Enable quick environment switching for your current view"
                        ],
                        dataHandling: "The extension only accesses the active tab when you explicitly interact with it. No background monitoring occurs."
                    }
                },
                storage: {
                    title: "Data Storage and Security",
                    intro: "All data collected by JIRA URL Wizard is stored locally on your device using Chrome's storage API. We prioritize your security with these measures:",
                    measures: [
                        "All data is encrypted using Chrome's built-in storage encryption",
                        "No data is transmitted to external servers - everything stays on your device",
                        "No tracking or analytics services are used",
                        "Regular security audits of our codebase",
                        "Secure handling of sensitive information"
                    ],
                    highlight: {
                        title: "Enterprise-Ready:",
                        desc: "Our local-only approach to data storage makes JIRA URL Wizard suitable for enterprise environments with strict security requirements."
                    }
                },
                rights: {
                    title: "Your Rights and Controls",
                    intro: "You have complete control over your data in JIRA URL Wizard:",
                    controls: [
                        "Access your stored configurations through the extension's options page",
                        "Delete any or all of your stored data at any time",
                        "Export your configurations for backup or sharing with team members",
                        "Import configurations from other devices or team members",
                        "Reset all settings to default with a single click"
                    ]
                },
                retention: {
                    title: "Data Retention",
                    intro: "Since all data is stored locally on your device, it remains available until you:",
                    conditions: [
                        "Explicitly delete it through the extension's options",
                        "Uninstall the JIRA URL Wizard extension",
                        "Clear your browser's extension data storage"
                    ],
                    conclusion: "We have no access to your data and therefore no ability to delete or retain it on our servers."
                },
                changes: {
                    title: "Policy Changes",
                    p1: "We may update our Privacy Policy from time to time. When we do, we will post the new Privacy Policy on this page and update the \"Last Updated\" date.",
                    p2: "Significant changes will be notified to users through a notification in the extension. We encourage you to review this Privacy Policy periodically for any changes."
                },
                compliance: {
                    title: "Legal Compliance",
                    p1: "JIRA URL Wizard is designed to comply with applicable data protection regulations, including the General Data Protection Regulation (GDPR) and the California Consumer Privacy Act (CCPA).",
                    p2: "Our local-only approach to data handling ensures that we respect your privacy rights by default. Since we never collect or process your data on our servers, many traditional privacy concerns are inherently addressed."
                },
                footer: {
                    copyright: "&copy; <span id=\"copyright-year\"></span> JIRA URL Wizard",
                    github: "View on GitHub"
                },
                browserButtons: {
                    title: "Download JIRA URL Wizard",
                    chrome: "Chrome",
                    firefox: "Firefox",
                    edge: "Edge",
                    safari: "Safari",
                    firefoxAlert: "Firefox extension coming soon!",
                    edgeAlert: "Edge extension coming soon!",
                    safariAlert: "Safari extension coming soon!"
                },
                settings: {
                    button: "Manage Extension Settings",
                    info: "Access your extension storage and configuration"
                },
                download: {
                    title: "Download for Your Browser",
                    settingsButton: "Extension Settings",
                    settingsInfo: "Configure your extension settings and preferences",
                    versionFormat: "{version} ‚Ä¢ {date}",
                    comingSoon: "Coming Soon"
                },
                modal: {
                    title: "Extension Settings",
                    close: "√ó",
                    intro: "To access the extension settings, please use one of the following methods based on your browser:",
                    chrome: {
                        title: "Chrome",
                        steps: [
                            "Click the extensions icon (puzzle piece) in the browser toolbar",
                            "Find \"JIRA URL Wizard\" in the list",
                            "Click the three dots (‚ãÆ) next to the extension",
                            "Select \"Options\" or \"Extension options\""
                        ]
                    },
                    firefox: {
                        title: "Firefox",
                        steps: [
                            "Click the menu button (‚â°) in the top right",
                            "Select \"Add-ons and themes\"",
                            "Click on \"Extensions\" in the sidebar",
                            "Find \"JIRA URL Wizard\" and click the three dots (‚ãÆ)",
                            "Select \"Options\" or \"Preferences\""
                        ]
                    },
                    edge: {
                        title: "Edge",
                        steps: [
                            "Click the extensions icon (puzzle piece) in the browser toolbar",
                            "Find \"JIRA URL Wizard\" in the list",
                            "Click the three dots (‚ãÆ) next to the extension",
                            "Select \"Manage extension\"",
                            "Scroll down and click on \"Extension options\""
                        ]
                    },
                    direct: {
                        title: "Direct Access",
                        steps: [
                            "Click the JIRA URL Wizard icon in your browser toolbar",
                            "When the popup opens, click on \"Extension Settings\""
                        ]
                    }
                }
            },
            de: {
                title: "JIRA URL Wizard - Datenschutzerkl√§rung",
                lastUpdated: "Letzte Aktualisierung: 10. April 2024",
                introText: "<strong>JIRA URL Wizard</strong> wurde entwickelt, um die Arbeit mit mehreren JIRA-Umgebungen zu vereinfachen. Wir legen h√∂chsten Wert auf Ihre Privatsph√§re und Sicherheit - alle Daten werden lokal auf Ihrem Ger√§t gespeichert und keine Informationen werden an externe Server √ºbertragen.",
                quickNav: "Schnellnavigation",
                backToTop: "‚Üë Nach oben",
                nav: {
                    introduction: "Einf√ºhrung",
                    features: "Hauptfunktionen",
                    information: "Gesammelte Informationen",
                    permissions: "Berechtigungen",
                    storage: "Datenspeicherung & Sicherheit",
                    rights: "Ihre Rechte & Kontrollen",
                    retention: "Datenspeicherung",
                    changes: "√Ñnderungen der Richtlinie",
                    compliance: "Rechtliche Konformit√§t"
                },
                introduction: {
                    title: "Einf√ºhrung",
                    p1: "JIRA URL Wizard (\"wir\", \"uns\" oder \"unser\") ist bestrebt, Ihre Privatsph√§re zu sch√ºtzen. Diese Datenschutzerkl√§rung erl√§utert, wie wir Ihre Informationen erfassen, verwenden und sch√ºtzen, wenn Sie unsere Chrome-Erweiterung nutzen. Wir nehmen Ihre Privatsph√§re ernst und sind transparent in Bezug auf unsere Datenpraktiken.",
                    p2: "Unsere Erweiterung wurde entwickelt, um Entwicklern, Testern und Projektmanagern das einfache Navigieren zwischen verschiedenen JIRA-Umgebungen zu erm√∂glichen, ohne URLs manuell √§ndern zu m√ºssen."
                },
                features: {
                    title: "Hauptfunktionen",
                    switching: {
                        title: "Schneller Umgebungswechsel",
                        desc: "Wechseln Sie mit einem Klick zwischen Entwicklungs-, Staging- und Produktionsumgebungen von JIRA."
                    },
                    config: {
                        title: "Anpassbare Umgebungskonfiguration",
                        desc: "Erstellen und passen Sie JIRA-Umgebungskonfigurationen an die spezifischen Anforderungen Ihres Unternehmens an."
                    },
                    organization: {
                        title: "Ticket-Organisation",
                        desc: "Speichern und organisieren Sie Tickets f√ºr schnellen Zugriff √ºber alle Ihre JIRA-Instanzen hinweg."
                    },
                    detection: {
                        title: "Automatische Ticket-Erkennung",
                        desc: "Extrahiert automatisch Ticket-Informationen von jeder JIRA-Seite, die Sie anzeigen."
                    }
                },
                information: {
                    title: "Erfasste Informationen",
                    intro: "JIRA URL Wizard erfasst und speichert folgende Informationen lokal auf Ihrem Ger√§t:",
                    config: {
                        title: "Konfigurationsdaten",
                        items: [
                            "JIRA-Umgebungskonfigurationen (URLs, Namen, Authentifizierungsdaten)",
                            "Benutzerdefinierte Umgebungseinstellungen und Pr√§ferenzen",
                            "Benutzeroberfl√§cheneinstellungen (Design, Layout, etc.)"
                        ]
                    },
                    ticket: {
                        title: "Ticket-Daten",
                        items: [
                            "Gespeicherte Ticket-Informationen (Ticket-IDs, Beschreibungen)",
                            "Ticket-Kategorisierung und Organisation",
                            "Schnellzugriffs-Ticketlisten"
                        ]
                    },
                    usage: {
                        title: "Nutzungsdaten",
                        items: [
                            "Erweiterungseinstellungen und Pr√§ferenzen",
                            "Zuletzt aufgerufene Umgebungen",
                            "Benutzerdefinierte Tastenkombinationen"
                        ]
                    },
                    privacy: {
                        title: "Ihre Privatsph√§re hat Priorit√§t:",
                        desc: "Alle Daten werden lokal in Ihrem Browser-Speicher gespeichert und nicht an externe Server √ºbertragen. Wir haben keinen Zugriff auf Ihre JIRA-Anmeldedaten oder Ticket-Informationen."
                    }
                },
                permissions: {
                    title: "Berechtigungen",
                    intro: "JIRA URL Wizard ben√∂tigt folgende Berechtigungen, um seine Funktionalit√§t bereitzustellen. Hier ist der Grund f√ºr jede Berechtigung:",
                    purpose: "Zweck:",
                    usage: "Verwendung:",
                    dataHandling: "Datenverarbeitung:",
                    storage: {
                        name: "storage",
                        purpose: "Zum Speichern Ihrer Umgebungen und Einstellungen",
                        usage: "Diese Berechtigung erm√∂glicht der Erweiterung:",
                        items: [
                            "Ihre JIRA-Umgebungskonfigurationen f√ºr schnelles Wechseln zu speichern",
                            "Ihre bevorzugten Tickets f√ºr einfachen Zugriff zu speichern",
                            "Ihre Pr√§ferenzen und Einstellungen zu speichern",
                            "Ihre Schnellzugriffslisten zu verwalten"
                        ],
                        dataHandling: "Alle Daten werden lokal mit der Chrome-Speicher-API gespeichert. Keine Daten werden an externe Server √ºbertragen."
                    },
                    tabs: {
                        name: "tabs",
                        purpose: "Zum Erkennen von JIRA-Tabs und schnellem Wechseln",
                        usage: "Diese Berechtigung erm√∂glicht der Erweiterung:",
                        items: [
                            "Zu erkennen, wenn Sie ein JIRA-Ticket anzeigen",
                            "Die aktuelle Ticket-ID f√ºr schnelles Umgebungswechseln zu extrahieren",
                            "Die entsprechenden URLs f√ºr verschiedene Umgebungen zu generieren",
                            "Zwischen Entwicklungs-, Staging- und Produktionsansichten zu wechseln"
                        ],
                        dataHandling: "Die Erweiterung liest nur die URL und den Titel von JIRA-bezogenen Tabs. Keine anderen Tab-Informationen werden abgerufen oder gespeichert."
                    },
                    activeTab: {
                        name: "activeTab",
                        purpose: "Zum Lesen aktueller Tab-Informationen bei Bedarf",
                        usage: "Diese Berechtigung erm√∂glicht der Erweiterung:",
                        items: [
                            "Die URL des aktuellen Tabs zu lesen, wenn Sie auf das Erweiterungssymbol klicken",
                            "Umgebungsspezifische Links basierend auf Ihrem aktuellen Ticket zu generieren",
                            "Schnelles Umgebungswechseln f√ºr Ihre aktuelle Ansicht zu erm√∂glichen"
                        ],
                        dataHandling: "Die Erweiterung greift nur auf den aktiven Tab zu, wenn Sie explizit mit ihm interagieren. Es findet keine Hintergrund√ºberwachung statt."
                    }
                },
                storage: {
                    title: "Datenspeicherung und Sicherheit",
                    intro: "Alle von JIRA URL Wizard erfassten Daten werden lokal auf Ihrem Ger√§t mit der Chrome-Speicher-API gespeichert. Wir priorisieren Ihre Sicherheit mit folgenden Ma√ünahmen:",
                    measures: [
                        "Alle Daten werden mit der integrierten Chrome-Speicherverschl√ºsselung verschl√ºsselt",
                        "Keine Daten werden an externe Server √ºbertragen - alles bleibt auf Ihrem Ger√§t",
                        "Es werden keine Tracking- oder Analysedienste verwendet",
                        "Regelm√§√üige Sicherheitsaudits unseres Codebestands",
                        "Sichere Handhabung sensibler Informationen"
                    ],
                    highlight: {
                        title: "Unternehmensgeeignet:",
                        desc: "Unser rein lokaler Ansatz bei der Datenspeicherung macht JIRA URL Wizard f√ºr Unternehmensumgebungen mit strengen Sicherheitsanforderungen geeignet."
                    }
                },
                rights: {
                    title: "Ihre Rechte",
                    intro: "Sie haben vollst√§ndige Kontrolle √ºber Ihre Daten in JIRA URL Wizard:",
                    controls: [
                        "Zugriff auf Ihre gespeicherten Konfigurationen √ºber die Erweiterungsoptionen",
                        "L√∂schen aller oder einzelner gespeicherter Daten jederzeit",
                        "Exportieren Ihrer Konfigurationen f√ºr Backup oder Team-Sharing",
                        "Importieren von Konfigurationen von anderen Ger√§ten oder Teammitgliedern",
                        "Zur√ºcksetzen aller Einstellungen auf Standard mit einem Klick"
                    ]
                },
                retention: {
                    title: "Datenaufbewahrung",
                    intro: "Da alle Daten lokal auf Ihrem Ger√§t gespeichert werden, bleiben sie verf√ºgbar, bis Sie:",
                    conditions: [
                        "Diese explizit √ºber die Erweiterungsoptionen l√∂schen",
                        "Die JIRA URL Wizard-Erweiterung deinstallieren",
                        "Den Erweiterungsdatenspeicher Ihres Browsers l√∂schen"
                    ],
                    conclusion: "Wir haben keinen Zugriff auf Ihre Daten und daher keine M√∂glichkeit, diese auf unseren Servern zu l√∂schen oder zu behalten."
                },
                changes: {
                    title: "√Ñnderungen der Richtlinie",
                    p1: "Wir k√∂nnen unsere Datenschutzerkl√§rung von Zeit zu Zeit aktualisieren. Wenn wir dies tun, werden wir die neue Datenschutzerkl√§rung auf dieser Seite ver√∂ffentlichen und das Datum der \"Letzten Aktualisierung\" √§ndern.",
                    p2: "Wesentliche √Ñnderungen werden den Nutzern durch eine Benachrichtigung in der Erweiterung mitgeteilt. Wir empfehlen Ihnen, diese Datenschutzerkl√§rung regelm√§√üig auf √Ñnderungen zu √ºberpr√ºfen."
                },
                compliance: {
                    title: "Rechtliche Konformit√§t",
                    p1: "JIRA URL Wizard wurde entwickelt, um geltende Datenschutzbestimmungen einzuhalten, einschlie√ülich der Datenschutz-Grundverordnung (DSGVO) und des California Consumer Privacy Act (CCPA).",
                    p2: "Unser rein lokaler Ansatz bei der Datenverarbeitung stellt sicher, dass wir Ihre Datenschutzrechte standardm√§√üig respektieren. Da wir Ihre Daten niemals auf unseren Servern sammeln oder verarbeiten, werden viele herk√∂mmliche Datenschutzbedenken von Natur aus ber√ºcksichtigt."
                },
                footer: {
                    copyright: "&copy; <span id=\"copyright-year\"></span> JIRA URL Wizard",
                    github: "Auf GitHub anzeigen"
                },
                browserButtons: {
                    title: "JIRA URL Wizard herunterladen",
                    chrome: "Chrome",
                    firefox: "Firefox",
                    edge: "Edge",
                    safari: "Safari",
                    firefoxAlert: "Die Firefox-Erweiterung wird in K√ºrze verf√ºgbar sein!",
                    edgeAlert: "Die Edge-Erweiterung wird in K√ºrze verf√ºgbar sein!",
                    safariAlert: "Die Safari-Erweiterung wird in K√ºrze verf√ºgbar sein!"
                },
                settings: {
                    button: "Erweiterungseinstellungen verwalten",
                    info: "Zugriff auf den Speicher und die Konfiguration Ihrer Erweiterung"
                },
                download: {
                    title: "F√ºr Ihren Browser herunterladen",
                    settingsButton: "Erweiterungseinstellungen",
                    settingsInfo: "Konfigurieren Sie Ihre Erweiterungseinstellungen und Pr√§ferenzen",
                    versionFormat: "{version} ‚Ä¢ {date}",
                    comingSoon: "Demn√§chst verf√ºgbar"
                },
                modal: {
                    title: "Erweiterungseinstellungen",
                    close: "√ó",
                    intro: "Um auf die Erweiterungseinstellungen zuzugreifen, verwenden Sie bitte eine der folgenden Methoden, basierend auf Ihrem Browser:",
                    chrome: {
                        title: "Chrome",
                        steps: [
                            "Klicken Sie auf das Erweiterungssymbol (Puzzle-Symbol) in der Browser-Symbolleiste",
                            "Suchen Sie \"JIRA URL Wizard\" in der Liste",
                            "Klicken Sie auf die drei Punkte (‚ãÆ) neben der Erweiterung",
                            "W√§hlen Sie \"Optionen\" oder \"Erweiterungsoptionen\""
                        ]
                    },
                    firefox: {
                        title: "Firefox",
                        steps: [
                            "Klicken Sie auf das Men√º-Symbol (‚â°) oben rechts",
                            "W√§hlen Sie \"Add-ons und Themes\"",
                            "Klicken Sie in der Seitenleiste auf \"Erweiterungen\"",
                            "Suchen Sie \"JIRA URL Wizard\" und klicken Sie auf die drei Punkte (‚ãÆ)",
                            "W√§hlen Sie \"Optionen\" oder \"Einstellungen\""
                        ]
                    },
                    edge: {
                        title: "Edge",
                        steps: [
                            "Klicken Sie auf das Erweiterungssymbol (Puzzle-Symbol) in der Browser-Symbolleiste",
                            "Suchen Sie \"JIRA URL Wizard\" in der Liste",
                            "Klicken Sie auf die drei Punkte (‚ãÆ) neben der Erweiterung",
                            "W√§hlen Sie \"Erweiterung verwalten\"",
                            "Scrollen Sie nach unten und klicken Sie auf \"Erweiterungsoptionen\""
                        ]
                    },
                    direct: {
                        title: "Direkter Zugriff",
                        steps: [
                            "Klicken Sie auf das JIRA URL Wizard-Symbol in Ihrer Browser-Symbolleiste",
                            "Wenn das Popup-Fenster ge√∂ffnet wird, klicken Sie auf \"Erweiterungseinstellungen\""
                        ]
                    }
                }
            }
        };

        // Function to format date based on language
        function formatDate(dateString, lang) {
            // Set moment locale based on language
            moment.locale(lang);
            
            // Format date according to language
            if (lang === 'en') {
                return moment(dateString).format('MMMM D, YYYY');
            } else if (lang === 'de') {
                return moment(dateString).format('D. MMMM YYYY');
            }
            return dateString;
        }

        // Function to generate browser button HTML
        function generateBrowserButton(button) {
            const formattedDate = formatDate(button.releaseDate, currentLang);
            const statusText = button.enabled ? 
                translations[currentLang].download.versionFormat
                    .replace('{version}', button.version)
                    .replace('{date}', formattedDate) : 
                translations[currentLang].download.comingSoon;
            
            return `
                <a href="${button.url}" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="browser-btn ${button.id}-btn ${!button.enabled ? 'disabled' : ''}" 
                   title="${button.enabled ? `Available on ${button.name} Web Store (${formattedDate})` : `${button.name} extension coming soon!`}"
                   data-version="${button.version}"
                   data-release-date="${button.releaseDate}">
                    <img src="${button.logo}" alt="${button.name} Logo" class="browser-logo">
                    <div class="browser-info">
                        <div class="browser-name" data-i18n="browserButtons.${button.id.toLowerCase()}">${button.name}</div>
                        <div class="version-info">${statusText}</div>
                    </div>
                </a>
            `;
        }

        // Make functions and variables globally available
        window.currentLang = currentLang;
        window.formatDate = formatDate;
        window.generateBrowserButton = generateBrowserButton;
        window.translations = translations;

        // Apply translations based on selected language
        function getValue(obj, path) {
            return path.split('.').reduce((prev, curr) => {
                return prev && prev[curr] ? prev[curr] : null;
            }, obj);
        }

        function applyTranslations(lang) {
            const elements = document.querySelectorAll('[data-i18n]');
            elements.forEach(el => {
                const key = el.getAttribute('data-i18n');
                const text = getValue(translations[lang], key);
                if (text) {
                    if (/<[a-z][\s\S]*>/i.test(text)) {
                        el.innerHTML = text;
                    } else {
                        el.textContent = text;
                    }
                }
            });

            const listElements = document.querySelectorAll('[data-i18n-list]');
            listElements.forEach(el => {
                const key = el.getAttribute('data-i18n-list');
                const items = getValue(translations[lang], key);

                if (items && Array.isArray(items)) {
                    el.innerHTML = '';
                    items.forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        el.appendChild(li);
                    });
                }
            });
        }

        // Language switcher functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Set initial moment locale
            moment.locale(currentLang);
            
            // Render browser buttons
            renderBrowserButtons();
            
            const languageBtns = document.querySelectorAll('.language-btn');
            
            // Set current year in the copyright
            document.getElementById('copyright-year').textContent = new Date().getFullYear();
            
            // Apply initial translations based on default language
            applyTranslations(currentLang);
            
            languageBtns.forEach(btn => {
                // Set active button based on currentLang
                if (btn.getAttribute('data-lang') === currentLang) {
                    btn.classList.add('active');
                }
                
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    currentLang = lang;
                    
                    // Update moment locale
                    moment.locale(lang);
                    
                    // Update active button
                    languageBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Apply translations
                    applyTranslations(lang);
                    
                    // Re-render browser buttons with new language
                    renderBrowserButtons();
                });
            });
            
            // Modal functionality
            const modal = document.getElementById('settingsModal');
            const settingsBtn = document.querySelector('.settings-button');
            const closeModal = document.querySelector('.close-modal');
            
            function openModal() {
                if (modal) {
                    modal.style.display = 'block';
                    document.body.classList.add('modal-open');
                }
            }
            
            function closeModalHandler() {
                if (modal) {
                    modal.style.display = 'none';
                    document.body.classList.remove('modal-open');
                }
            }
            
            if (settingsBtn) {
                settingsBtn.addEventListener('click', function() {
                    try {
                        if (chrome && chrome.runtime && chrome.runtime.openOptionsPage) {
                            chrome.runtime.openOptionsPage();
                        } else if (typeof browser !== 'undefined' && browser.runtime && browser.runtime.openOptionsPage) {
                            browser.runtime.openOptionsPage();
                        } else {
                            openModal();
                        }
                    } catch (e) {
                        openModal();
                    }
                });
            }
            
            if (closeModal) {
                closeModal.addEventListener('click', closeModalHandler);
            }
            
            window.addEventListener('click', function(event) {
                if (event.target === modal) {
                    closeModalHandler();
                }
            });
            
            // Make collapsible sections work
            const collapsibles = document.querySelectorAll('.collapsible-header');
            collapsibles.forEach(header => {
                header.addEventListener('click', function() {
                    this.classList.toggle('active');
                    
                    if (this.classList.contains('active')) {
                        this.querySelector('span').textContent = '-';
                    } else {
                        this.querySelector('span').textContent = '+';
                    }
                });
            });
        });

        // Initialize browser buttons when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            renderBrowserButtons();
        });
    </script>
</body>
</html>
